Watching for file changes with StatReloader
Used Materials: [{'panel_id': 89, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('2.440000000000000000000000001')}, {'panel_id': 80, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('0.9150000000000000000000000003')}, {'panel_id': 28, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('2.745000000000000000000000001')}, {'panel_id': 87, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('2.603773584905660377358490565')}, {'panel_id': 35, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('3.169811320754716981132075471')}, {'panel_id': 34, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('3.169811320754716981132075471')}, {'panel_id': 29, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('3.056603773584905660377358490')}, {'panel_id': 32, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('1.754838709677419354838709677')}, {'panel_id': 86, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('1.445161290322580645161290322')}]
Used Materials: [{'panel_id': 89, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('2.440000000000000000000000001')}, {'panel_id': 80, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('0.9150000000000000000000000003')}, {'panel_id': 28, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('2.745000000000000000000000001')}, {'panel_id': 87, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('2.603773584905660377358490565')}, {'panel_id': 35, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('3.169811320754716981132075471')}, {'panel_id': 34, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('3.169811320754716981132075471')}, {'panel_id': 29, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('3.056603773584905660377358490')}, {'panel_id': 32, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('1.754838709677419354838709677')}, {'panel_id': 86, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('1.445161290322580645161290322')}]
Expected Materials: [{'panel_id': 80, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('0.9000000000'), 'tendered_quantity': Decimal('0.945000000000')}, {'panel_id': 86, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('1.4000000000'), 'tendered_quantity': Decimal('1.470000000000')}, {'panel_id': 32, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('1.7000000000'), 'tendered_quantity': Decimal('1.785000000000')}, {'panel_id': 29, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('2.7000000000'), 'tendered_quantity': Decimal('2.835000000000')}, {'panel_id': 87, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('2.3000000000'), 'tendered_quantity': Decimal('2.415000000000')}, {'panel_id': 28, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('2.7000000000'), 'tendered_quantity': Decimal('2.835000000000')}, {'panel_id': 34, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('2.8000000000'), 'tendered_quantity': Decimal('2.940000000000')}, {'panel_id': 89, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('2.4000000000'), 'tendered_quantity': Decimal('2.520000000000')}, {'panel_id': 35, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('2.8000000000'), 'tendered_quantity': Decimal('2.940000000000')}]
Used Materials: [{'panel_id': 89, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('2.440000000000000000000000001')}, {'panel_id': 80, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('0.9150000000000000000000000003')}, {'panel_id': 28, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('2.745000000000000000000000001')}, {'panel_id': 87, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('2.603773584905660377358490565')}, {'panel_id': 35, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('3.169811320754716981132075471')}, {'panel_id': 34, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('3.169811320754716981132075471')}, {'panel_id': 29, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('3.056603773584905660377358490')}, {'panel_id': 32, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('1.754838709677419354838709677')}, {'panel_id': 86, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('1.445161290322580645161290322')}]
Used Materials: [{'panel_id': 89, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('2.440000000000000000000000001')}, {'panel_id': 80, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('0.9150000000000000000000000003')}, {'panel_id': 28, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('2.745000000000000000000000001')}, {'panel_id': 87, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('2.603773584905660377358490565')}, {'panel_id': 35, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('3.169811320754716981132075471')}, {'panel_id': 34, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('3.169811320754716981132075471')}, {'panel_id': 29, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('3.056603773584905660377358490')}, {'panel_id': 32, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('1.754838709677419354838709677')}, {'panel_id': 86, 'material_id': 236, 'material': 'Concrete', 'used_quantity': Decimal('1.445161290322580645161290322')}]
Expected Materials: [{'panel_id': 80, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('0.9000000000'), 'tendered_quantity': Decimal('0.945000000000')}, {'panel_id': 86, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('1.4000000000'), 'tendered_quantity': Decimal('1.470000000000')}, {'panel_id': 32, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('1.7000000000'), 'tendered_quantity': Decimal('1.785000000000')}, {'panel_id': 29, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('2.7000000000'), 'tendered_quantity': Decimal('2.835000000000')}, {'panel_id': 87, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('2.3000000000'), 'tendered_quantity': Decimal('2.415000000000')}, {'panel_id': 28, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('2.7000000000'), 'tendered_quantity': Decimal('2.835000000000')}, {'panel_id': 34, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('2.8000000000'), 'tendered_quantity': Decimal('2.940000000000')}, {'panel_id': 89, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('2.4000000000'), 'tendered_quantity': Decimal('2.520000000000')}, {'panel_id': 35, 'material_id': 236, 'material': 'Concrete', 'expected_theoretical_quantity': Decimal('2.8000000000'), 'tendered_quantity': Decimal('2.940000000000')}]
Internal Server Error: /
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'Materials'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brianhooke/Library/Mobile Documents/com~apple~CloudDocs/Coding/precast_app/precast_app/homepage/views.py", line 209, in home
    return render(request, 'home.html', {'materials_cast': materials_cast,  'used_materials': used_materials, 'expected_used_materials': expected_used_materials, 'panel_consumables_pl': panel_consumables_pl, 'bom_tracking': bom_tracking, 'suppliers': list(suppliers), 'materials': list(materials), 'bom': list(bom), 'drawings': drawings_data, 'stocktake': stocktake, 'stocktake_data': stocktake_data, 'shelf_stock': shelf_stock, 'orders': list(orders), 'orders_data': list(orders_data), 'panels': list(panels), 'casting_schedule': list(casting_schedule)})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader.py", line 62, in render_to_string
    return template.render(context, request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1064, in render
    output = self.filter_expression.resolve(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 715, in resolve
    obj = self.var.resolve(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 847, in resolve
    value = self._resolve_lookup(context)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 914, in _resolve_lookup
    current = current()
              ^^^^^^^^^
  File "/Users/brianhooke/Library/Mobile Documents/com~apple~CloudDocs/Coding/precast_app/precast_app/homepage/views.py", line 139, in materials_cast
    material = Materials.objects.get(material_id=panel_bom.material_id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/query.py", line 623, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/lookups.py", line 341, in get_prep_lookup
    return super().get_prep_lookup()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/lookups.py", line 85, in get_prep_lookup
    return self.lhs.output_field.get_prep_value(self.rhs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'material_id' expected a number but got <Materials: Unexpected Line Items>.
Not Found: /favicon.ico
/Users/brianhooke/Library/Mobile Documents/com~apple~CloudDocs/Coding/precast_app/precast_app/homepage/views.py changed, reloading.
